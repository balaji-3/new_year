<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0,user-scalable=no">
<title>New Year Celebration üéÜ</title>

<style>
*{margin:0;padding:0;box-sizing:border-box;font-family:Poppins,sans-serif;}

body{
    background:#00172b;color:white;overflow:hidden;
    height:100vh;width:100vw;
    display:flex;justify-content:center;align-items:center;
}

/* MAIN UI HOLDER (keeps perfect alignment always) */
.main-box{
    position:relative;z-index:5;
    width:90%;max-width:500px;
    height:85vh;
    display:flex;
    flex-direction:column;
    justify-content:center;
    align-items:center;
    text-align:center;
    gap:1.1rem;
    pointer-events:auto;
}

/* Buttons */
button{
    padding:12px 26px;font-size:1.1rem;font-weight:700;
    border:none;border-radius:40px;cursor:pointer;
    transition:.4s ease;opacity:0;pointer-events:none;
    min-width:160px;
}
button.show{opacity:1;pointer-events:auto;}

#celebrateBtn{background:#ffd700;color:#000;animation:pulse 1.7s infinite;}
@keyframes pulse{50%{transform:scale(1.08);}}

#nextBtn{background:#00e1ff;color:black;display:none;}
#backBtn{background:#ffd700;color:black;display:none;}

#message{
    display:none;font-size:1.9rem;font-weight:900;
    animation:textPop .9s forwards;
    line-height:1.3;
}
@keyframes textPop{0%{opacity:0;transform:scale(.6);}100%{opacity:1;}}

.wishes{
    display:none;font-size:1rem;opacity:0;
    animation:fadeIn 2s forwards 1s;
    max-width:90%;
}
@keyframes fadeIn{to{opacity:1;}}

/* Countdown Display */
#countdownText{
    font-size:1.8rem;font-weight:bold;
    background:rgba(0,0,0,.45);
    padding:10px 18px;border-radius:10px;
    margin-top:6px;
    opacity:0;transition:.6s ease;
}

/* Section control */
.screen{display:none;flex-direction:column;align-items:center;gap:1rem;}
#screen-home{display:flex;}
#screen-count{display:none;}

/* Fireworks canvas */
canvas{
    position:absolute;top:0;left:0;width:100%;height:100%;
    z-index:1;pointer-events:none;
}

/* Mobile adaptive */
@media(max-width:420px){
    #message{font-size:1.65rem;}
    #countdownText{font-size:1.4rem;}
    button{font-size:1rem;}
}
</style>
</head>

<body>

<canvas id="fireCanvas"></canvas>

<div class="main-box">

<!-- HOME SCREEN -->
<div id="screen-home" class="screen">
    <button id="celebrateBtn" class="show">üéâ</button>
    <div id="message">‚ú® Happy New Year, Varshaaa ‚ú®</div>
    <p class="wishes">May it gently close old chapters and open your heart to new beginnings üíõ</p>
    <button id="nextBtn">Next</button>
</div>

<!-- COUNTDOWN SCREEN -->
<div id="screen-count" class="screen">
    <h2>‚è≥</h2>
    <div id="countdownText"></div>
    <button id="backBtn">Back</button>
</div>

</div>

<audio id="music" src="https://cdn.pixabay.com/download/audio/2023/02/28/audio_4c89962041.mp3?filename=new-year-party-135795.mp3"></audio>

<script>
/* ELEMENTS */
const music=document.getElementById("music"),
canvas=document.getElementById("fireCanvas"),ctx=canvas.getContext("2d");

const home=document.getElementById("screen-home"),
count=document.getElementById("screen-count"),
countdownText=document.getElementById("countdownText");

const celebrateBtn=document.getElementById("celebrateBtn"),
nextBtn=document.getElementById("nextBtn"),
backBtn=document.getElementById("backBtn"),
message=document.getElementById("message"),
wishes=document.querySelector(".wishes");


/* Canvas fit */
function size(){canvas.width=innerWidth;canvas.height=innerHeight;}
size();addEventListener("resize",size);


/* ===== CELEBRATION ACTION ===== */
celebrateBtn.onclick=()=>{
    celebrateBtn.classList.remove("show");
    message.style.display="block";
    wishes.style.display="block";
    music.play();

    startFireworksMobile();
    dropConfetti();
    floatWords();

    /* Show next button AFTER 5 seconds */
    setTimeout(()=>{
        nextBtn.style.display="block";
        nextBtn.classList.add("show");
    },5000);
};


/* ===== SWITCH TO COUNTDOWN ===== */
nextBtn.onclick=()=>{
    home.style.display="none";
    count.style.display="flex";
    startCountdown();
    backBtn.style.display="block";
    backBtn.classList.add("show");
};


/* ===== BACK ===== */
backBtn.onclick=()=>{
    count.style.display="none";
    home.style.display="flex";
};


/* ===== COUNTDOWN ===== */
function startCountdown(){
    countdownText.style.opacity="1";
    let target=new Date("Jan 19, 2026 00:00:00").getTime();
    setInterval(()=>{
        let diff=target-Date.now();
        if(diff<=0) return countdownText.innerHTML="üéâ It's Time!";
        let d=Math.floor(diff/86400000),
            h=Math.floor((diff%86400000)/3600000),
            m=Math.floor((diff%3600000)/60000),
            s=Math.floor((diff%60000)/1000);
        countdownText.innerHTML=`${d}d ${h}h ${m}m ${s}s`;
    },1000);
}


/* ================= FIREWORK EFFECT (OPTIMIZED) ================= */
function boom(mega=false){
    let count=innerWidth<500?(mega?90:40):(mega?160:80),
        x=Math.random()*innerWidth,y=Math.random()*innerHeight*0.45,
        parts=[];

    for(let i=0;i<count;i++){
        parts.push({
            x,y,angle:Math.random()*360,
            speed:Math.random()*2+1.1,
            size:mega?3:2,
            col:`hsl(${Math.random()*360},100%,50%)`,
            life:mega?120:80
        });
    }

    let anim=setInterval(()=>{
        ctx.fillStyle="rgba(0,0,0,.13)";
        ctx.fillRect(0,0,innerWidth,innerHeight);

        parts.forEach(p=>{
            let r=p.angle*Math.PI/180;
            p.x+=Math.cos(r)*p.speed;
            p.y+=Math.sin(r)*p.speed;p.life--;

            ctx.beginPath();
            ctx.arc(p.x,p.y,p.size,0,Math.PI*2);
            ctx.fillStyle=p.col;ctx.fill();

            if(p.life<=0)clearInterval(anim);
        });
    },18);
}

function startFireworksMobile(){
    setInterval(()=>boom(),700);     // frequent
    setInterval(()=>boom(true),3600);// mega boom
}


/* ================= CONFETTI ================= */
function dropConfetti(){
    let total=innerWidth<500?45:80;
    for(let i=0;i<total;i++){
        const p=document.createElement("div");
        p.style.cssText=`
            width:6px;height:6px;border-radius:2px;
            background:hsl(${Math.random()*360},100%,50%);
            position:absolute;top:-10px;z-index:5;
            left:${Math.random()*innerWidth}px;
        `;
        document.body.appendChild(p);
        let fall=setInterval(()=>{
            p.style.top=parseInt(p.style.top)+3+"px";
            p.style.left=parseInt(p.style.left)+(Math.random()*4-2)+"px";
            if(parseInt(p.style.top)>innerHeight) {p.remove();clearInterval(fall);}
        },22);
    }
}


/* ================= FLOATING WORDS ================= */
function floatWords(){
    const words=["Joy","Love","Peace","Blessings","Growth","Success","Prosperity"];
    setInterval(()=>{
        let t=document.createElement("div");
        t.innerHTML=words[Math.floor(Math.random()*words.length)];
        t.style.cssText=`
            position:absolute;font-size:.95rem;opacity:.85;z-index:5;
            left:${Math.random()*innerWidth}px;top:${innerHeight}px;
            color:hsl(${Math.random()*360},100%,75%);
            animation:floatUp 6s linear forwards;
        `;
        document.body.appendChild(t);
    },1000);
}

</script>
</body>
</html>
