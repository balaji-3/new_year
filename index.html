<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0,user-scalable=no">
<title>‚ù§Ô∏è</title>

<style>
*{margin:0;padding:0;box-sizing:border-box;font-family:Poppins,sans-serif;}

body{
    background:#00172b;
    color:white;
    height:100vh;width:100vw;
    display:flex;
    justify-content:center;
    align-items:center;
    overflow:hidden;
}

/******** MAIN BOX ********/
.main-box{
    position:relative;
    z-index:5;
    width:90%;
    max-width:500px;
    height:85vh;
    display:flex;
    flex-direction:column;
    justify-content:center;
    align-items:center;
    text-align:center;
    gap:1.1rem;
}

/******** BUTTONS ********/
button{
    padding:12px 26px;
    font-size:1.1rem;
    font-weight:700;
    border:none;
    border-radius:40px;
    cursor:pointer;
    opacity:0;
    pointer-events:none;
    transition:opacity 2s ease;
}
button.show{opacity:1;pointer-events:auto;}

#celebrateBtn{
    background:#ffd700;
    color:#000;
    animation:pulse 1.7s infinite;
}
@keyframes pulse{50%{transform:scale(1.08);}}

/******** SCREENS ********/
.screen{
    display:none;
    flex-direction:column;
    align-items:center;
    gap:1rem;
    opacity:0;
    transition:opacity 1.5s ease;
}
#screen-home{display:flex;opacity:1;}
#screen-note{transition:opacity 2s ease;}
#screen-count{transition:opacity 1.5s ease;}

/******** TEXT ********/
#noteText{
    font-size:1.4rem;
    opacity:0;
    transition:opacity 1.5s ease;
}

#countdownText{
    font-size:1.6rem;
    font-weight:bold;
    background:rgba(0,0,0,.35);
    padding:10px 18px;
    border-radius:10px;
    opacity:0;
    transition:opacity 1s ease;
}

/******** CANVAS ********/
canvas{
    position:absolute;
    top:0;left:0;
    width:100%;height:100%;
    z-index:1;
    pointer-events:none;
}

@media(max-width:420px){
    #noteText{font-size:1.2rem;}
    #countdownText{font-size:1.4rem;}
    button{font-size:1rem;}
}
</style>
</head>

<body>

<canvas id="fireCanvas"></canvas>

<div class="main-box">

<!-- HOME -->
<div id="screen-home" class="screen">
    <button id="celebrateBtn" class="show">Go Ahead üéâ</button>
</div>

<!-- SHORT NOTE -->
<div id="screen-note" class="screen">
    <h2 id="noteText">
        I'm not someone who usually celebrates these days, but that won't stop me from wishing you well
    </h2>
</div>

<!-- COUNTDOWN -->
<div id="screen-count" class="screen">
    <h2>‚è≥</h2>
    <div id="countdownText"></div>
</div>

</div>

<audio id="music"
src="https://cdn.pixabay.com/download/audio/2023/02/28/audio_4c89962041.mp3?filename=new-year-party-135795.mp3">
</audio>

<script>
/******** ELEMENTS ********/
const canvas=document.getElementById("fireCanvas"),
      ctx=canvas.getContext("2d"),
      music=document.getElementById("music");

const home=document.getElementById("screen-home"),
      note=document.getElementById("screen-note"),
      count=document.getElementById("screen-count"),
      celebrateBtn=document.getElementById("celebrateBtn"),
      noteText=document.getElementById("noteText"),
      countdownText=document.getElementById("countdownText");

/******** CANVAS SIZE ********/
function size(){
    canvas.width=innerWidth;
    canvas.height=innerHeight;
}
size();
addEventListener("resize",size);

/******** CELEBRATE FLOW ********/
celebrateBtn.onclick=()=>{
    celebrateBtn.classList.remove("show");
    music.play();

    startFireworks();
    dropConfetti();
    floatWords();

    /* HOME ‚Üí NOTE */
    home.style.opacity="0";
    setTimeout(()=>{
        home.style.display="none";
        note.style.display="flex";
        setTimeout(()=>{
            note.style.opacity="1";
            noteText.style.opacity="1";
        },100);
    },800);

    /* NOTE visible 5s ‚Üí fade out 2s */
    setTimeout(()=>{
        note.style.opacity="0";
        noteText.style.opacity="0";
    },5800);

    /* NOTE ‚Üí COUNTDOWN */
    setTimeout(()=>{
        note.style.display="none";
        count.style.display="flex";
        setTimeout(()=>{
            count.style.opacity="1";
            countdownText.style.opacity="1";
        },100);
        startCountdown();
    },7800);
};

/******** COUNTDOWN ********/
function startCountdown(){
    const target=new Date("Jan 19, 2026 00:00:00").getTime();
    setInterval(()=>{
        const diff=target-Date.now();
        if(diff<=0){
            countdownText.innerHTML="üéâ It's Time!";
            return;
        }
        const d=Math.floor(diff/86400000);
        const h=Math.floor((diff%86400000)/3600000);
        const m=Math.floor((diff%3600000)/60000);
        const s=Math.floor((diff%60000)/1000);
        countdownText.innerHTML=`${d}d ${h}h ${m}m ${s}s`;
    },1000);
}

/******** FIREWORKS ********/
function fire(mega=false){
    let count=innerWidth<500?(mega?70:35):(mega?130:65),
        x=Math.random()*innerWidth,
        y=Math.random()*innerHeight*0.4,
        parts=[];
    for(let i=0;i<count;i++){
        parts.push({
            x,y,
            a:Math.random()*360,
            s:Math.random()*2+1,
            r:mega?3:2,
            c:`hsl(${Math.random()*360},100%,50%)`,
            life:mega?120:80
        });
    }
    let anim=setInterval(()=>{
        ctx.fillStyle="rgba(0,0,0,.15)";
        ctx.fillRect(0,0,innerWidth,innerHeight);
        parts.forEach(p=>{
            let r=p.a*Math.PI/180;
            p.x+=Math.cos(r)*p.s;
            p.y+=Math.sin(r)*p.s;
            p.life--;
            ctx.beginPath();
            ctx.arc(p.x,p.y,p.r,0,Math.PI*2);
            ctx.fillStyle=p.c;
            ctx.fill();
            if(p.life<=0)clearInterval(anim);
        });
    },18);
}
function startFireworks(){
    setInterval(()=>fire(),700);
    setInterval(()=>fire(true),3500);
}

/******** CONFETTI ********/
function dropConfetti(){
    let n=innerWidth<500?40:80;
    for(let i=0;i<n;i++){
        let e=document.createElement("div");
        e.style=`
            width:6px;height:6px;border-radius:2px;
            position:absolute;top:-10px;z-index:20;
            background:hsl(${Math.random()*360},100%,50%);
            left:${Math.random()*innerWidth}px;
        `;
        document.body.appendChild(e);
        let fall=setInterval(()=>{
            e.style.top=parseInt(e.style.top)+3+"px";
            e.style.left=parseInt(e.style.left)+(Math.random()*4-2)+"px";
            if(parseInt(e.style.top)>innerHeight){
                e.remove();
                clearInterval(fall);
            }
        },22);
    }
}

/******** FLOATING WORDS ********/
function floatWords(){
    const words=["Joy","Love","Peace","Hope","Warmth","Growth","Happiness"];
    setInterval(()=>{
        let t=document.createElement("div");
        t.innerHTML=words[Math.floor(Math.random()*words.length)];
        t.style=`
            position:absolute;
            font-size:.9rem;
            opacity:.85;
            z-index:18;
            left:${Math.random()*innerWidth}px;
            top:${innerHeight}px;
            color:hsl(${Math.random()*360},100%,75%);
            animation:floatUp 6s linear forwards;
        `;
        document.body.appendChild(t);
    },900);
}
</script>

</body>
</html>
